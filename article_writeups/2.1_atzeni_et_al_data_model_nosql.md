# Reflection on [Data Modeling in the NoSQL World](https://www-sciencedirect-com.proxybz.lib.montana.edu/science/article/pii/S0920548916301180)

#### Atzeni, P., Bugiotto, F., Cabibbo, L., & Torlone, R. (2020). Data modeling in the NoSQL world. Computer Standards & Interfaces, 67, 103149. https://doi.org/10.1016/j.csi.2016.10.003

[(home)](https://beqpolk1.github.io/csci-592-spring2022/)

---

It was a nice change of pace to read a more recent article this week, which dealt with technologies and techniques that I am more familiar with. “Data Modeling in the NoSQL World” by Paolo Atzeni, Francesca Bugiotti, Luca Cabibbo, and Riccardo Torlone illustrates the importance of employing data modeling techniques even for “schema-less” NoSQL databases . They offer an abstract data model (NoAM) that can be used across heterogeneous NoSQL databases and demonstrate how that data model can be employed to design a database independent of the specific targeted NoSQL database.

Flexibility of data representation is often considered a benefit of NoSQL databases; whereas relational databases lock the data into a rigid schema with constraints, NoSQL allows for structures that are flexible and can change from one entity to the next, even if the entities are ostensibly of the same type. I appreciated that Atzeni et al. took the time to establish that a more formal process of data modeling has something to offer for NoSQL database design and development, despite those databases’ lack of a defined schema. They were able to draw on several pieces of literature to support this claim. There were two main benefits to employing data modeling: increased data abstraction and interoperability (which aids with difficulties due to heterogeneity) and increased database performance for common data access patterns.

Indeed, data access patterns play a large part in the design methodology proposed by the authors. This was interesting to note, as it seemed to overlap with the [first article I read](0.1_wang_unified_data_modeling.md), Allen Wang’s “Unified Data Modeling for Relational and NoSQL Databases”. In that piece, Wang described how different query patterns would necessitate structuring the data differently. Here, Atzeni et al. focus on the sorts of atomic actions (adding, fetching, updating) that might need to happen with various types of data, and recommend designing the database around the entities that will need to be handled atomically.

To begin the data modeling process, Atzeni et al. recommend developing an initial model using something like UML, that is, something capable of capturing entities with properties and the relationships between different entities. It was interesting to see that this general, initial approach was somewhat preserved from earlier papers that described complex data modeling in object-relational terms; I wondered if this type of underlying model is truly appropriate for all types of NoSQL database, but that is a question for another time. Once this initial model has been completed, the designer can identify groups of related objects that may need to be handled atomically, and identify the **aggregates** that should be used.

An **aggregate** is a fundamental unit in NoAM, a, “…group of related application objects, representing a unit of data access and atomic manipulation”. The authors illustrate how this concept of an aggregate is shared across heterogeneous NoSQL systems, and therefore is a prime candidate for a basic, high-level data modeling concept. Later, they associate aggregates with “blocks”, which represent, “…a maximal data unit for which atomic, efficient, and scalable access operations are provided.” All of this focus on atomicity is important for a key reason: NoSQL databases don’t really support JOIN operations and the native linking of several data sets, so from both an ease-of-development standpoint and a performance standpoint it is advisable to group together related model objects into a single NoSQL entity.

Building on the concept of blocks, Atzeni et al. define the NoAM data model with the following components:

* A NoAM database, which is a set of *collections*
* Each collection is a set of *blocks*, as described above. Each block is identified by a key that is unique within the collection.
* Each *block* is a non-empty set of *entries*, each of which is a key-value pair. The entry key is unique within its block and the entry value can be either complex (e.g. a JSON document) or scalar.

The authors spend a decent amount of time considering the best way to structure entries inside a block; they consider it on a scale from having a single, large, complex entry that contains and represents all block properties and relationships to having many, small, simple/scalar entries, each of which contains or represents a single property or relationship. Ultimately, they settle on a set of guidelines to help the designer decide whether an entry within a block should be a larger, complex value or a smaller, simpler value.

Interestingly, it is demonstrated how this NoAM data modeling technique can be successfully applied to several different NoSQL databases; specifically, the authors consider Oracle NoSQL (a key-value store), DynamoDB (an extensible record store), and MongoDB (a document store). In each case, implementing the example NoAM data model in the target database is happily straightforward, with relatively simple mappings from NoAM concepts to specific database concepts. However, I was disappointed to see that column stores and graph stores were not explored as candidate NoSQL systems, since I would argue that these two paradigms are more different when compared to the three discussed in the paper.

Overall, I was excited to see in this paper an exploration of modern NoSQL database systems, considerations of some of the difficulties encountered when working with those systems, and how some of those difficulties can be overcome by focusing on the commonalities between different NoSQL systems. While simple, their proposed data model is also robust and does a good job of capturing those commonalities; it also provides a solid framework in which to develop and design NoSQL databases. While I would have like to have seen a wider variety of NoSQL databases considered, and perhaps some discussion on the mathematical implications of their data model, I thought the authors did a great job making the case for NoAM. In the “Related Work” section they cited a couple of papers that I will read in the coming weeks, on inferring NoSQL schemas and a platform (SOS) for uniform data access to different types of NoSQL data stores. I will be intrigued to contrast the data modeling approaches presented in those papers with the one given here. At any rate, this paper has helped highlight the commonalities of different NoSQL systems and some of the key considerations when designing a NoSQL database, especially the preservation of atomicity for objects that should be stored, accessed, and updated in a coherent manner, and I suspect that this will be critical for other approaches. 
